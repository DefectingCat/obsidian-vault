在默认情况下，如果将一个图片拖放到浏览器中则会直接在标签页中打开它。

HTML 最早的用途就是表单（Forms），早在没有 JavaScript 时表单就已经成为主流应用。JavaScript 的最早用途也就是为了避免在服务端验证表单的繁琐操作。

在最新的 HTML 标准中，`<input />` 标签光 `type` 属性就高达[十几种](https://www.w3schools.com/html/html_form_input_types.asp)，满足了多种表单控件的需要。

* `<input type="button">`
* `<input type="checkbox">`
* `<input type="color">`
* `<input type="date"> `
* `<input type="datetime-local">`
* `<input type="email">`
* `<input type="file"> `
* ……

而文件的上传，或者说 DOM API 通过浏览器与系统本地文件交互最常见的方式就是通过 `<input type="file" />`。

```html
<input type="file" />
```

点击“选择文件”就会打开熟悉的系统文件选择界面（在 Windows 上则是 explorer）：

![[Pasted image 20230106105257.png]]

默认控件有一点好处就是它的文字提示会随着浏览器而本地化（就是“选择文件”那几个字）。

默认的控件虽然不是非常的好看，还可能随着浏览器的不同而出现样式的不同。但它却是不可缺少的 API 之一。

不过好在我们有 CSS 可以拯救它。

## 样式化

由于 `type="file"` 控件的默认样式比较复杂，它由两个部分组成：一个点击的按钮和已经选择的文件名称。

要通过 CSS 来修改其默认的样式，目前还没有一个通用的标准，常见的修改方式有：

* 隐藏 input 标签，通过 label 标签来触发点击；
* 使用 `::before` 伪元素；
* 隐藏 input 标签，使用 JavaScript 来触发点击；

它们的核心思想基本都是通过将默认的 input 标签样式隐藏，随后使用其他方式创建新的样式，再将用户的点击同时触发到 input 标签上。从而实现对 `type="file"` 的自定义。

除此之外，[tailwindcss](https://tailwindcss.com/docs/hover-focus-and-other-states#file-input-buttons) 还有个 `file:` 修饰符可以用来修改默认控件的样式，而且和上述方法不同的是它是直接修改的 input 标签本身，目前还没发现是如何实现的。

对于我们自己实现，自然是直接隐藏 input 标签更加方便快捷。且大部分情况下默认控件自带的显示已选择文件名称的部分我们也不需要。